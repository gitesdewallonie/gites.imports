[transmogrifier]
pipeline =
    jsonsource
    cleanup
    bnbconfigurator
    encapsulator
    constructor
    uidupdater
    atschemaupdate
    translations
    workflowupdater
    reindexer

[jsonsource]
blueprint = gites.imports.sections.jsonsource
url = http://localhost:5080/plone1
view = export_packages?roomsOnly=1

[cleanup]
blueprint = collective.transmogrifier.sections.manipulator
delete =
    textTop
    showInCarousel
    largePhoto
    startDate
    endDate
    criteria
    range
    userCriteria
    zoomLevel
    geolocation
    location
    markerText
    markerTextSelection

[bnbconfigurator]
blueprint = gites.imports.sections.bnbconfigurator

[constructor]
blueprint = collective.transmogrifier.sections.constructor
type-key = type
path-key = path

[atschemaupdate]
blueprint = plone.app.transmogrifier.atschemaupdate
path-key = path

[uidupdater]
blueprint = plone.app.transmogrifier.uidupdater
path-key = path
uid-key = uid

[translations]
blueprint = collective.blueprint.translationlinker
path-key = path
canonical-key = isCanonical
translation-key = canonical

[workflowupdater]
blueprint = plone.app.transmogrifier.workflowupdater
path-key = path
transitions-key = transitions

[encapsulator]
blueprint = plone.app.transmogrifier.mimeencapsulator
data-key = image
mimetype = python:item.get('_image_mimetype')
field = string:image
condition = python:item['portal_type'] in ['Vignette', 'Image']

[reindexer]
blueprint = plone.app.transmogrifier.reindexobject
path-key = path

[pprint]
blueprint = collective.transmogrifier.sections.tests.pprinter
